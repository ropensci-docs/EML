<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Work with Ecological Metadata Language (EML) files. 
    EML is a widely used metadata standard in the ecological and
    environmental sciences, described in Jones et al. (2006),
    &lt;doi:10.1146/annurev.ecolsys.37.091305.110031&gt;.">
<title>Read and Write Ecological Metadata Language Files â€¢ EML</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Read and Write Ecological Metadata Language Files">
<meta property="og:description" content="Work with Ecological Metadata Language (EML) files. 
    EML is a widely used metadata standard in the ecological and
    environmental sciences, described in Jones et al. (2006),
    &lt;doi:10.1146/annurev.ecolsys.37.091305.110031&gt;.">
<meta property="og:image" content="https://docs.ropensci.org/EML/logo.svg">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">EML</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.0.6</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/creating-EML.html">Creating EML</a>
    <a class="dropdown-item" href="articles/working-with-units.html">Working with Units</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/EML/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="eml-">EML <a class="anchor" aria-label="anchor" href="#eml-"></a>
</h1>
</div>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a> <a href="https://travis-ci.org/ropensci/EML" class="external-link"><img src="https://travis-ci.org/ropensci/EML.svg?branch=master" alt="Build Status"></a> <a href="https://ci.appveyor.com/project/cboettig/eml" class="external-link"><img src="https://ci.appveyor.com/api/projects/status/u2gw24yfkvxgny96?svg=true" alt="Windows build status"></a> <a href="https://app.codecov.io/gh/ropensci/EML" class="external-link"><img src="https://codecov.io/gh/ropensci/EML/branch/master/graph/badge.svg" alt="codecov"></a> <a href="https://cran.r-project.org/package=EML" class="external-link"><img src="https://www.r-pkg.org/badges/version/EML" alt="CRAN status"></a> <img src="http://cranlogs.r-pkg.org/badges/grand-total/RNeXML" alt="downloads"><a href="https://zenodo.org/badge/latestdoi/10894022" class="external-link"><img src="https://zenodo.org/badge/10894022.svg" alt="DOI"></a></p>
<!-- README.md is generated from README.Rmd. Please edit that file --><p>EML is a widely used metadata standard in the ecological and environmental sciences. We strongly recommend that interested users visit the <a href="https://eml.ecoinformatics.org/" class="external-link">EML Homepage</a> for an introduction and thorough documentation of the standard. Additionally, the scientific article <em><a href="https://doi.org/10.1146/annurev.ecolsys.37.091305.110031" class="external-link">The New Bioinformatics: Integrating Ecological Data from the Gene to the Biosphere (Jones et al 2006)</a></em> provides an excellent introduction into the role EML plays in building metadata-driven data repositories to address the needs of highly heterogeneous data that cannot be easily reduced to a traditional vertically integrated database. At this time, the <code>EML</code> R package provides support for the serializing and parsing of all low-level EML concepts, but still assumes some familiarity with the EML standard, particularly for users seeking to create their own EML files. We hope to add more higher-level functions which will make such familiarity less essential in future development.</p>
<div class="section level2">
<h2 id="notes-on-the-eml-v20-release">Notes on the EML v2.0 Release<a class="anchor" aria-label="anchor" href="#notes-on-the-eml-v20-release"></a>
</h2>
<p><code>EML</code> v2.0 is a complete re-write which aims to provide both a drop-in replacement for the higher-level functions of the existing EML package while also providing additional functionality. This new <code>EML</code> version uses only simple and familiar list structures (S3 classes) instead of the more cumbersome use of S4 found in the original <code>EML</code>. While the higher-level functions are identical, this makes it easier to for most users and developers to work with <code>eml</code> objects and also to write their own functions for creating and manipulating EML objects. Under the hood, <code>EML</code> relies on the <a href="https://github.com/ropensci/emld/" class="external-link">emld</a> package, which uses a Linked Data representation for EML. It is this approach which lets us combine the simplicity of lists with the specificity required by the XML schema.</p>
<p>This revision also supports the <strong><a href="https://eml.ecoinformatics.org/whats-new-in-eml-2-2-0.html" class="external-link">recently released EML 2.2.0 specification</a></strong>.</p>
</div>
</div>
<div class="section level1">
<h1 id="creating-eml">Creating EML<a class="anchor" aria-label="anchor" href="#creating-eml"></a>
</h1>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/EML/">EML</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="a-minimal-valid-eml-document">A minimal valid EML document:<a class="anchor" aria-label="anchor" href="#a-minimal-valid-eml-document"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">me</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>individualName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>givenName <span class="op">=</span> <span class="st">"Carl"</span>, surName <span class="op">=</span> <span class="st">"Boettiger"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">my_eml</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>              title <span class="op">=</span> <span class="st">"A Minimal Valid EML Dataset"</span>,</span>
<span>              creator <span class="op">=</span> <span class="va">me</span>,</span>
<span>              contact <span class="op">=</span> <span class="va">me</span><span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu"><a href="reference/write_eml.html">write_eml</a></span><span class="op">(</span><span class="va">my_eml</span>, <span class="st">"ex.xml"</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="fu"><a href="reference/eml_validate.html">eml_validate</a></span><span class="op">(</span><span class="st">"ex.xml"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; attr(,"errors")</span></span>
<span><span class="co">#&gt; character(0)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="a-richer-example">A Richer Example<a class="anchor" aria-label="anchor" href="#a-richer-example"></a>
</h2>
<p>Here we show the creation of a relatively complete EML document using <code>EML</code>. This closely parallels the function calls shown in the original EML <a href="https://docs.ropensci.org/EML/articles/creating-EML.html">R-package vignette</a>.</p>
</div>
<div class="section level2">
<h2 id="set_-methods">
<code>set_*</code> methods<a class="anchor" aria-label="anchor" href="#set_-methods"></a>
</h2>
<p>The original EML R package defines a set of higher-level <code>set_*</code> methods to facilitate the creation of complex metadata structures. <code>EML</code> provides these same methods, taking the same arguments for <code>set_coverage</code>, <code>set_attributes</code>, <code>set_physical</code>, <code>set_methods</code> and <code>set_textType</code>, as illustrated here:</p>
<div class="section level3">
<h3 id="coverage-metadata">Coverage metadata<a class="anchor" aria-label="anchor" href="#coverage-metadata"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">geographicDescription</span> <span class="op">&lt;-</span> <span class="st">"Harvard Forest Greenhouse, Tom Swamp Tract (Harvard Forest)"</span></span>
<span><span class="va">coverage</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="reference/set_coverage.html">set_coverage</a></span><span class="op">(</span>begin <span class="op">=</span> <span class="st">'2012-06-01'</span>, end <span class="op">=</span> <span class="st">'2013-12-31'</span>,</span>
<span>               sci_names <span class="op">=</span> <span class="st">"Sarracenia purpurea"</span>,</span>
<span>               geographicDescription <span class="op">=</span> <span class="va">geographicDescription</span>,</span>
<span>               west <span class="op">=</span> <span class="op">-</span><span class="fl">122.44</span>, east <span class="op">=</span> <span class="op">-</span><span class="fl">117.15</span>, </span>
<span>               north <span class="op">=</span> <span class="fl">37.38</span>, south <span class="op">=</span> <span class="fl">30.00</span>,</span>
<span>               altitudeMin <span class="op">=</span> <span class="fl">160</span>, altitudeMaximum <span class="op">=</span> <span class="fl">330</span>,</span>
<span>               altitudeUnits <span class="op">=</span> <span class="st">"meter"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="reading-in-text-from-word-and-markdown">Reading in text from Word and Markdown<a class="anchor" aria-label="anchor" href="#reading-in-text-from-word-and-markdown"></a>
</h3>
<p>We read in detailed methods written in a Word doc. This uses EMLâ€™s docbook-style markup to preserve formatting of paragraphs, lists, titles, and so forth. (This is a drop-in replacement for EML <code>set_method()</code>)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">methods_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/hf205-methods.docx"</span>, package <span class="op">=</span> <span class="st">"EML"</span><span class="op">)</span></span>
<span><span class="va">methods</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/set_methods.html">set_methods</a></span><span class="op">(</span><span class="va">methods_file</span><span class="op">)</span></span></code></pre></div>
<p>We can also read in text that uses Markdown for markup elements:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">abstract_file</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/hf205-abstract.md"</span>, package <span class="op">=</span> <span class="st">"EML"</span><span class="op">)</span></span>
<span><span class="va">abstract</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/set_TextType.html">set_TextType</a></span><span class="op">(</span><span class="va">abstract_file</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="attribute-metadata-from-tables">Attribute Metadata from Tables<a class="anchor" aria-label="anchor" href="#attribute-metadata-from-tables"></a>
</h3>
<p>Attribute metadata can be verbose, and is often defined in separate tables (e.g.Â separate Excel sheets or <code>.csv</code> files). Here we use attribute metadata and factor definitions as given from <code>.csv</code> files.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">attributes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/hf205_attributes.csv"</span>, package <span class="op">=</span> <span class="st">"EML"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">factors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/hf205_factors.csv"</span>, package <span class="op">=</span> <span class="st">"EML"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">attributeList</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="reference/set_attributes.html">set_attributes</a></span><span class="op">(</span><span class="va">attributes</span>, </span>
<span>                 <span class="va">factors</span>, </span>
<span>                 col_classes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"character"</span>, </span>
<span>                                 <span class="st">"Date"</span>,</span>
<span>                                 <span class="st">"Date"</span>,</span>
<span>                                 <span class="st">"Date"</span>,</span>
<span>                                 <span class="st">"factor"</span>,</span>
<span>                                 <span class="st">"factor"</span>,</span>
<span>                                 <span class="st">"factor"</span>,</span>
<span>                                 <span class="st">"numeric"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-file-format">Data file format<a class="anchor" aria-label="anchor" href="#data-file-format"></a>
</h3>
<p>Though the <code>physical</code> metadata specifying the file format is extremely flexible, the <code>set_physical</code> function provides defaults appropriate for <code>.csv</code> files. DEVELOPER NOTE: ideally the <code>set_physical</code> method should guess the appropriate metadata structure based on the file extension.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">physical</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/set_physical.html">set_physical</a></span><span class="op">(</span><span class="st">"hf205-01-TPexp1.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="generic-construction">Generic construction<a class="anchor" aria-label="anchor" href="#generic-construction"></a>
</h2>
<p>In the <code>EML</code> R package, objects for which there is no <code>set_</code> method are constructed using the <code>new()</code> S4 constructor. This provided an easy way to see the list of available slots. In <code>eml2</code>, all objects are just lists, and so there is no need for special methods. We can create any object directly by nesting lists with names corresponding to the EML elements. Here we create a <code>keywordSet</code> from scratch:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">keywordSet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        keywordThesaurus <span class="op">=</span> <span class="st">"LTER controlled vocabulary"</span>,</span>
<span>        keyword <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"bacteria"</span>,</span>
<span>                    <span class="st">"carnivorous plants"</span>,</span>
<span>                    <span class="st">"genetics"</span>,</span>
<span>                    <span class="st">"thresholds"</span><span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        keywordThesaurus <span class="op">=</span> <span class="st">"LTER core area"</span>,</span>
<span>        keyword <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"populations"</span>, <span class="st">"inorganic nutrients"</span>, <span class="st">"disturbance"</span><span class="op">)</span></span>
<span>        <span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        keywordThesaurus <span class="op">=</span> <span class="st">"HFR default"</span>,</span>
<span>        keyword <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Harvard Forest"</span>, <span class="st">"HFR"</span>, <span class="st">"LTER"</span>, <span class="st">"USA"</span><span class="op">)</span></span>
<span>        <span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Of course, this assumes that we have some knowledge of what the possible terms permitted in an EML keywordSet are! Not so useful for novices. We can get a preview of the elements that any object can take using the <code><a href="https://docs.ropensci.org/emld/reference/template.html" class="external-link">emld::template()</a></code> option, but this involves a two-part workflow. Instead, <code>eml2</code> provides generic <code>construct</code> methods for all objects.</p>
</div>
<div class="section level2">
<h2 id="constructor-methods">Constructor methods<a class="anchor" aria-label="anchor" href="#constructor-methods"></a>
</h2>
<p>For instance, the function <code>eml$creator()</code> has function arguments corresponding to each possible slot for a creator. This means we can rely on <em>tab completion</em> (and/or autocomplete previews in RStudio) to see what the possible options are. <code>eml$</code> functions exist for all complex types. If <code>eml$</code> does not exist for an argument (e.g.Â there is no <code>eml$givenName</code>), then the field takes a simple string argument.</p>
<div class="section level3">
<h3 id="creating-parties-creator-contact-publisher">Creating parties (creator, contact, publisher)<a class="anchor" aria-label="anchor" href="#creating-parties-creator-contact-publisher"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aaron</span> <span class="op">&lt;-</span> <span class="va">eml</span><span class="op">$</span><span class="fu">creator</span><span class="op">(</span></span>
<span>  individualName <span class="op">=</span> <span class="va">eml</span><span class="op">$</span><span class="fu">individualName</span><span class="op">(</span></span>
<span>    givenName <span class="op">=</span> <span class="st">"Aaron"</span>, </span>
<span>    surName <span class="op">=</span> <span class="st">"Ellison"</span><span class="op">)</span>,</span>
<span>  electronicMailAddress <span class="op">=</span> <span class="st">"fakeaddress@email.com"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HF_address</span> <span class="op">&lt;-</span> <span class="va">eml</span><span class="op">$</span><span class="fu">address</span><span class="op">(</span></span>
<span>                  deliveryPoint <span class="op">=</span> <span class="st">"324 North Main Street"</span>,</span>
<span>                  city <span class="op">=</span> <span class="st">"Petersham"</span>,</span>
<span>                  administrativeArea <span class="op">=</span> <span class="st">"MA"</span>,</span>
<span>                  postalCode <span class="op">=</span> <span class="st">"01366"</span>,</span>
<span>                  country <span class="op">=</span> <span class="st">"USA"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">publisher</span> <span class="op">&lt;-</span> <span class="va">eml</span><span class="op">$</span><span class="fu">publisher</span><span class="op">(</span></span>
<span>                 organizationName <span class="op">=</span> <span class="st">"Harvard Forest"</span>,</span>
<span>                 address <span class="op">=</span> <span class="va">HF_address</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">contact</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    individualName <span class="op">=</span> <span class="va">aaron</span><span class="op">$</span><span class="va">individualName</span>,</span>
<span>    electronicMailAddress <span class="op">=</span> <span class="va">aaron</span><span class="op">$</span><span class="va">electronicMailAddress</span>,</span>
<span>    address <span class="op">=</span> <span class="va">HF_address</span>,</span>
<span>    organizationName <span class="op">=</span> <span class="st">"Harvard Forest"</span>,</span>
<span>    phone <span class="op">=</span> <span class="st">"000-000-0000"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="putting-it-all-together">Putting it all together<a class="anchor" aria-label="anchor" href="#putting-it-all-together"></a>
</h3>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_eml</span> <span class="op">&lt;-</span> <span class="va">eml</span><span class="op">$</span><span class="fu">eml</span><span class="op">(</span></span>
<span>           packageId <span class="op">=</span> <span class="fu">uuid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/uuid/man/UUIDgenerate.html" class="external-link">UUIDgenerate</a></span><span class="op">(</span><span class="op">)</span>,  </span>
<span>           system <span class="op">=</span> <span class="st">"uuid"</span>,</span>
<span>           dataset <span class="op">=</span> <span class="va">eml</span><span class="op">$</span><span class="fu">dataset</span><span class="op">(</span></span>
<span>               title <span class="op">=</span> <span class="st">"Thresholds and Tipping Points in a Sarracenia"</span>,</span>
<span>               creator <span class="op">=</span> <span class="va">aaron</span>,</span>
<span>               pubDate <span class="op">=</span> <span class="st">"2012"</span>,</span>
<span>               intellectualRights <span class="op">=</span> <span class="st">"http://www.lternet.edu/data/netpolicy.html."</span>,</span>
<span>               abstract <span class="op">=</span> <span class="va">abstract</span>,</span>
<span>               keywordSet <span class="op">=</span> <span class="va">keywordSet</span>,</span>
<span>               coverage <span class="op">=</span> <span class="va">coverage</span>,</span>
<span>               contact <span class="op">=</span> <span class="va">contact</span>,</span>
<span>               methods <span class="op">=</span> <span class="va">methods</span>,</span>
<span>               dataTable <span class="op">=</span> <span class="va">eml</span><span class="op">$</span><span class="fu">dataTable</span><span class="op">(</span></span>
<span>                 entityName <span class="op">=</span> <span class="st">"hf205-01-TPexp1.csv"</span>,</span>
<span>                 entityDescription <span class="op">=</span> <span class="st">"tipping point experiment 1"</span>,</span>
<span>                 physical <span class="op">=</span> <span class="va">physical</span>,</span>
<span>                 attributeList <span class="op">=</span> <span class="va">attributeList</span><span class="op">)</span></span>
<span>               <span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="serialize-and-validate">Serialize and validate<a class="anchor" aria-label="anchor" href="#serialize-and-validate"></a>
</h2>
<p>We can also validate first and then serialize:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/eml_validate.html">eml_validate</a></span><span class="op">(</span><span class="va">my_eml</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="co">#&gt; attr(,"errors")</span></span>
<span><span class="co">#&gt; character(0)</span></span>
<span><span class="fu"><a href="reference/write_eml.html">write_eml</a></span><span class="op">(</span><span class="va">my_eml</span>, <span class="st">"eml.xml"</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="setting-the-version">Setting the version<a class="anchor" aria-label="anchor" href="#setting-the-version"></a>
</h2>
<p>EML will use the latest EML specification by default. To switch to a different version, use <code><a href="https://docs.ropensci.org/emld/reference/eml_version.html" class="external-link">emld::eml_version()</a></code></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">emld</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/emld/reference/eml_version.html" class="external-link">eml_version</a></span><span class="op">(</span><span class="st">"eml-2.1.1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "eml-2.1.1"</span></span></code></pre></div>
<p>Switch back to the 2.2.0 release:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">emld</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/emld/reference/eml_version.html" class="external-link">eml_version</a></span><span class="op">(</span><span class="st">"eml-2.2.0"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "eml-2.2.0"</span></span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=EML" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/EML/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/EML/issues" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing EML</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Carl Boettiger <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-1642-628X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Matthew B. Jones <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-0077-4738" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/EML" class="external-link"><img src="https://ropensci.r-universe.dev/badges/EML" alt="EML status badge"></a></p></li>
</ul>
</div>

<div class="software-peer-review">
<h2 data-toc-skip>Software Peer-Review</h2>
<ul class="list-unstyled">
<li><p><a href="https://github.com/ropensci/software-review/issues/80" class="external-link"><img src="https://badges.ropensci.org/80_status.svg" alt="rOpenSci peer-review"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
